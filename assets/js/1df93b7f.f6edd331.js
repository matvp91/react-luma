"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[237],{7816:(e,t,n)=>{n.d(t,{Z:()=>C});var o=n(9231),r=n(6372),a=n.n(r),i=n(5151),l=n(1966),s=n(4229),c=n.n(s),d=n(9803),u=n.n(d),m=n(5869),p=n(58),h=n(5036),f=n(4259);function y(e){const t=(0,o.useRef)();return(0,m.Y)(t,e.onChange,{indentation:2}),o.createElement(p.ZP,{Prism:h.Z,code:e.code,language:"jsx",theme:{...f.Z,plain:{...f.Z.plain,margin:0,backgroundColor:"#282d34",borderRadius:0,padding:"1rem"}}},(e=>{let{className:n,tokens:r,getTokenProps:a,style:i}=e;return o.createElement("pre",{className:n,style:i,ref:t,spellCheck:!1},r.map(((e,t)=>o.createElement(o.Fragment,{key:t},e.filter((e=>!e.empty)).map(((e,t)=>o.createElement("span",a({token:e,key:t})))),"\n"))))}))}const g="root_G5Pn",T="editorContainer_pLQs",E="canvasContainer_tYHY",v="error_tsNI",b="canvasTitle_mKZ0",w="errorMessage_BxE_",_="canvasContent_UP_L",x="editorTitle_lNRG";function C(e){const t=(0,o.useRef)(),[n,r]=(0,o.useState)(function(e){return c().format(e,{parser:"typescript",plugins:[u()]}).replace(/[\r\n]+$/,"")}(e.code)),[s,d]=(0,o.useState)(null),m=(0,o.useCallback)((e=>{r(e.slice(0,-1))}),[r]);return(0,o.useEffect)((()=>{d(null);try{const e=function(e){return(0,l.vs)(e,{transforms:["jsx","imports"]}).code}(n);!function(e,t){new Function("require","canvasElement","React",e)((e=>{if("react-luma"===e)return i;throw new Error(`import "${e}" not available.`)}),t,o)}(e,t.current)}catch(s){d(s.toString())}}),[n]),o.createElement("div",{className:a()("code-editor",g)},o.createElement("div",{className:T},o.createElement("div",{className:x},"Live editor"),o.createElement(y,{code:n,onChange:m})),o.createElement("div",{className:a()(E,{[v]:!!s})},o.createElement("div",{className:b},s?"Compilation error":"Result"),o.createElement("div",{className:_},o.createElement("canvas",{ref:t}),!!s&&o.createElement("div",{className:w},s))))}},569:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var o=n(9231),r=n(9841),a=n(6856),i=n(9058),l=n(6352),s=n(3093);function c(){return o.createElement(s.Z,null,(()=>{const e=n(7816).Z;return o.createElement(e,{code:'\n  import { render, View, Text, Sprite, TEXTURE_WHITE } from \'react-luma\';\n  \n  function App() {\n    return (\n      <View style={{ padding: 12 }}>\n        <Text text="Hello world!" />\n        <Sprite style={{ width: 100, height: 100, marginTop: 12 }} texture={TEXTURE_WHITE} tint="#3f37c9" />\n      </View>\n    );\n  }\n\n  render(<App />, canvasElement, { width: 420 });\n  '})}))}var d=n(6372),u=n.n(d),m=n(6910);const p={heroBanner:"heroBanner_qdFl",container:"container_bfhl"};function h(){const{siteConfig:e}=(0,i.Z)();return o.createElement("header",{className:(0,r.Z)("hero hero--primary",p.heroBanner)},o.createElement("div",{className:"container"},o.createElement("h1",{className:"hero__title"},e.title),o.createElement("p",{className:"hero__subtitle"},e.tagline),o.createElement("div",{className:p.buttons},o.createElement(a.Z,{className:"button button--secondary button--lg",to:"/docs/intro"},"Documentation"))))}function f(){const{siteConfig:e}=(0,i.Z)();return o.createElement(l.Z,{title:`Hello from ${e.title}`,description:"Description will go into a meta tag in <head />"},o.createElement(h,null),o.createElement("main",null,o.createElement("div",{className:u()("container",p.container)},o.createElement("p",null,"Build your scene declaratively with re-usable, self-contained components and render them in a WebGL canvas. The renderer is mainly focused on TV's, set-top boxes and a variety of other low memory devices."),o.createElement("h3",null,"Installation"),o.createElement(m.Z,null,"npm install react-luma"),o.createElement("p",null,"React Luma's API is very familiar to anyone who has worked with React DOM. The main difference is that you can no longer rely on DOM elements such as a div or span, but you'd be building your UI composition with the built-in base components."),o.createElement("h3",null,"Playground"),o.createElement("p",null,"Feel free to make changes to the code below and the compiler will render an immediate result."),o.createElement(c,null))))}},1170:(e,t,n)=>{function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.defineProperty,i=Object.defineProperties,l=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&u(e,n,t[n]);if(s)for(var n of s(t))d.call(t,n)&&u(e,n,t[n]);return e},p=n(3384),h=o(p),f=o(p),y=o(p),g=o(p),T=o(p),E=o(p),v=r(n(2e3)),b=class extends g.Transform{updateTransform(e){this._localID!==this._currentLocalID&&(this.localTransform.a=this._cx*this.scale.x,this.localTransform.b=this._sx*this.scale.x,this.localTransform.c=this._cy*this.scale.y,this.localTransform.d=this._sy*this.scale.y,this.localTransform.tx=this.position.x-(this.pivot.x*this.localTransform.a+this.pivot.y*this.localTransform.c),this.localTransform.ty=this.position.y-(this.pivot.x*this.localTransform.b+this.pivot.y*this.localTransform.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID&&(this.worldTransform.a=this.localTransform.a,this.worldTransform.b=this.localTransform.b,this.worldTransform.c=this.localTransform.c,this.worldTransform.d=this.localTransform.d,this.worldTransform.tx=this.localTransform.tx+e.worldTransform.tx,this.worldTransform.ty=this.localTransform.ty+e.worldTransform.ty,this._parentID=e._worldID,this._worldID+=1)}};var w=n(7372),_=class extends w.CustomError{constructor(e){super("ReactLumaElement does not exist on this object."),this.obj=e}},x="__lumaElement";function C(e){if(!e[x])throw new _(e);return e[x]}function N(e){let t;t="Text"===e?new y.Text:"Sprite"===e?new y.Sprite:new y.Container,function(e){e.transform instanceof b||(e.transform=new b)}(t);const n={type:e,displayObject:t,yogaNode:v.default.Node.create(),calculateLayout:!1};return t[x]=n,n}function O(e,t){e.displayObject.addChild(t.displayObject);const n=e.displayObject.getChildIndex(t.displayObject);e.yogaNode.insertChild(t.yogaNode,n)}function I(e,t){e.displayObject.removeChild(t.displayObject),e.yogaNode.removeChild(t.yogaNode)}var j=o(n(8634));function D(e,t){return{left:e[`${t}Left`]||e[t]||0,right:e[`${t}Right`]||e[t]||0,top:e[`${t}Top`]||e[t]||0,bottom:e[`${t}Bottom`]||e[t]||0}}function P(e){const t=e.yogaNode.getComputedLayout();e.displayObject.position.x=t.left,e.displayObject.position.y=t.top,"Sprite"==e.type&&(e.displayObject.width=t.width,e.displayObject.height=t.height);const n=e.displayObject.children.length;for(let o=0;o<n;o++){P(C(e.displayObject.children[o]))}}function R(e){if(!q.current)throw new Error("Cannot calculate layout, ReactLumaCurrentApp is undefined");const{screen:t}=q.current;e.yogaNode.calculateLayout(t.width,t.height),P(e)}function L(e,t){e.yogaNode.setDisplay(v.default.DISPLAY_FLEX),"row"===t.flexDirection?e.yogaNode.setFlexDirection(v.default.FLEX_DIRECTION_ROW):"column"===t.flexDirection&&e.yogaNode.setFlexDirection(v.default.FLEX_DIRECTION_COLUMN),"center"===t.alignItems&&e.yogaNode.setAlignItems(v.default.ALIGN_CENTER),"center"===t.justifyContent&&e.yogaNode.setJustifyContent(v.default.JUSTIFY_CENTER),void 0!==t.width&&e.yogaNode.setWidth(t.width),void 0!==t.height&&e.yogaNode.setHeight(t.height);const n=D(t,"padding");void 0!==n.left&&e.yogaNode.setPadding(v.default.EDGE_LEFT,n.left),void 0!==n.right&&e.yogaNode.setPadding(v.default.EDGE_RIGHT,n.right),void 0!==n.top&&e.yogaNode.setPadding(v.default.EDGE_TOP,n.top),void 0!==n.bottom&&e.yogaNode.setPadding(v.default.EDGE_BOTTOM,n.bottom);const o=D(t,"margin");o.left&&e.yogaNode.setMargin(v.default.EDGE_LEFT,o.left),o.right&&e.yogaNode.setMargin(v.default.EDGE_RIGHT,o.right),o.top&&e.yogaNode.setMargin(v.default.EDGE_TOP,o.top),o.bottom&&e.yogaNode.setMargin(v.default.EDGE_BOTTOM,o.bottom)}function S(e,t){t&&(void 0!==t.left&&(e.displayObject.position.x=t.left),void 0!==t.top&&(e.displayObject.position.y=t.top))}function M(e,t,n){if("Text"===e.type){if("text"===t&&void 0!==n){j.isString(n,`Text ${t}=${n} is not a string.`),e.displayObject.text=n;const o=e.displayObject.getLocalBounds();e.yogaNode.setWidth(o.width),e.yogaNode.setHeight(o.height)}"fill"===t&&void 0!==n&&(j.isString(n,`Text ${t}=${n} is not a string.`),e.displayObject.style.fill=T.utils.string2hex(n))}if("Sprite"===e.type){if("texture"===t&&void 0!==n){j.isInstanceOf(n,T.Texture,`Sprite ${t} is not a texture.`),e.displayObject.texture=n;const o=function(e){e.isDirty()&&e.calculateLayout();return e.getComputedLayout()}(e.yogaNode);e.displayObject.width=o.width,e.displayObject.height=o.height}"tint"===t&&void 0!==n&&(j.isString(n,`Sprite ${t}=${n} is not a string.`),e.displayObject.tint=T.utils.string2hex(n))}}var k=n(79),A=r(k),F=r(n(9131)),H=n(2673),G={},Z="style",$="children",U="transform",B=!0;function W(e,t){for(const[n,o]of Object.entries(t))"children"!==n&&("style"===n?(B=!0,L(e,o)):"transform"===n?S(e,o):M(e,n,o))}var V=F.default.call(void 0,{isPrimaryRenderer:!0,supportsMutation:!0,supportsPersistence:!1,createInstance(e,t){const n=N(e);return W(n,t),n},createTextInstance(){throw new Error("createTextInstance is unsupported.")},appendInitialChild(e,t){B=!0,O(e,t)},appendChild(e,t){O(e,t)},removeChild(e,t){I(e,t)},finalizeInitialChildren:()=>!1,appendChildToContainer(e,t){O(e,t)},insertInContainerBefore(e,t,n){!function(e,t,n){const o=e.displayObject.getChildIndex(n.displayObject);e.displayObject.addChildAt(t.displayObject,o),e.yogaNode.insertChild(t.yogaNode,o)}(e,t,n)},removeChildFromContainer(e,t){I(e,t)},clearContainer:()=>!1,prepareUpdate:(e,t,n,o)=>X(n,o),commitUpdate(e,t){W(e,t)},shouldSetTextContent:()=>!1,getRootHostContext:()=>G,getChildHostContext:()=>G,getPublicInstance:e=>e,prepareForCommit:()=>null,resetAfterCommit(e){B&&(B=!1,R(e))},preparePortalMount:()=>null,scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,getCurrentEventPriority:()=>H.DefaultEventPriority,getInstanceFromNode:e=>e,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,detachDeletedInstance(){},supportsHydration:!1});function X(e,t){let n=null;for(let o in e)!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&null!=e[o]&&o!==$&&(o!==Z&&o!==U||X(e[o],t[o]))&&(n||(n={}),n[o]=null);for(let o in t){const r=t[o],a=null!=e?e[o]:void 0;!t.hasOwnProperty(o)||r===a||null==r&&null==a||o!==$&&(o!==Z&&o!==U||X(e[o],t[o]))&&(n||(n={}),n[o]=r)}return n}function Y(){}V.injectIntoDevTools({bundleType:1,version:A.default.version,rendererPackageName:"react-luma"});var q={current:null};function J(e,t){V.updateContainer(e,t,null,Y)}var z=new Map;var K=n(5250),Q=k.forwardRef.call(void 0,((e,t)=>{const[n,o]=k.useState.call(void 0);return k.useEffect.call(void 0,(()=>{E.Texture.fromURL(e.src).then(o)}),[e.src]),K.jsx.call(void 0,ee,(r=m({},e),i(r,l({texture:n,ref:t}))));var r})),ee="Sprite",te=h.Texture.WHITE;t.render=function(e,t,n){let o=z.get(t);o||(o=function(e,t){const n=m({width:1080},t),o=n.width*(9/16),r=new f.Application({width:n.width,height:o,resolution:window.devicePixelRatio,view:e,backgroundAlpha:0});q.current=r;const a=N("View");return L(a,{width:"100%",height:"100%"}),r.stage.addChild(a.displayObject),V.createContainer(a,0,null,!1,null,"ReactLuma",Y,null)}(t,n),z.set(t,o)),J(e,o)},t.unmountComponentAtNode=function(e){if(z.has(e)){const t=z.get(e);z.delete(t),J(null,t)}},t.Image_default=Q,t.View="View",t.Text="Text",t.Sprite=ee,t.TEXTURE_WHITE=te},5151:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var o=n(1170);t.Image=o.Image_default,t.Sprite=o.Sprite,t.TEXTURE_WHITE=o.TEXTURE_WHITE,t.Text=o.Text,t.View=o.View,t.render=o.render,t.unmountComponentAtNode=o.unmountComponentAtNode}}]);